<div class="cadastro-produto-container">
  <div class="form-container">
    <h2 class="titulo-centralizado">Cadastrar Novo Produto</h2>

    <form (ngSubmit)="salvar()" #form="ngForm">
      <label for="nome">Nome:</label>
      <input
        type="text"
        id="nome"
        [(ngModel)]="produto.nome"
        name="nome"
        required
      />

      <label for="descricao">Descri√ß√£o:</label>
      <input
        type="text"
        id="descricao"
        [(ngModel)]="produto.descricao"
        name="descricao"
        required
      />

      <label for="preco">Pre√ßo:</label>
      <input
        type="number"
        id="preco"
        [(ngModel)]="produto.preco"
        name="preco"
        required
      />

      <label for="imagem">Imagem (URL ou nome do arquivo):</label>
      <input
        type="text"
        id="imagem"
        [(ngModel)]="produto.imagem"
        name="imagem"
        required
        placeholder="Ex: racao.png ou https://..."
      />

      <!-- üîç Preview din√¢mico -->
      <div *ngIf="produto.imagem" class="imagem-preview">
        <p><strong>Pr√©-visualiza√ß√£o da imagem:</strong></p>
        <img
          [src]="getImagemUrl(produto.imagem)"
          alt="Preview"
          class="preview-imagem"
          onerror="this.style.display='none'"
        />
      </div>

      <button type="submit" [disabled]="form.invalid">Salvar</button>
      <button type="button" (click)="voltar()">Voltar</button>
    </form>
  </div>
</div>
